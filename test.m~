addpath getMask/
addpath localContext/

%% test mask generation
test_im = im2double(imread('./test_images/test_5.jpg'));
test_im_2 = im2double(imread('./test_images/test_6.jpg'));
mask_include = getMask(test_im);

mask_exclude = imcomplement(mask_include);


%% test poisson blend
% context_mask = getContextMask(mask_include);
% calculate mask of area surrounding the hole (80px radius)
context_mask = getContextMask(mask_include);
region_mask = context_mask + mask_include;
context_mask_exclude = imcomplement(region_mask);
[patch, ssd_score, texture_score] = placeContext(test_im, test_im_2, context_mask, region_mask);

figure(69), imshow(test_im .* repmat(

% figure(2), imagesc(patch);
